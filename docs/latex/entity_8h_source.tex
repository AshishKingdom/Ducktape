\hypertarget{entity_8h_source}{}\doxysection{entity.\+h}
\label{entity_8h_source}\index{Ducktape/include/Ducktape/engine/entity.h@{Ducktape/include/Ducktape/engine/entity.h}}
\mbox{\hyperlink{entity_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{MIT License}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{Copyright (c) 2022 Ducktape}}
\DoxyCodeLine{5 \textcolor{comment}{}}
\DoxyCodeLine{6 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy}}
\DoxyCodeLine{7 \textcolor{comment}{of this software and associated documentation files (the "{}Software"{}), to deal}}
\DoxyCodeLine{8 \textcolor{comment}{in the Software without restriction, including without limitation the rights}}
\DoxyCodeLine{9 \textcolor{comment}{to use, copy, modify, merge, publish, distribute, sublicense, and/or sell}}
\DoxyCodeLine{10 \textcolor{comment}{copies of the Software, and to permit persons to whom the Software is}}
\DoxyCodeLine{11 \textcolor{comment}{furnished to do so, subject to the following conditions:}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{14 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{15 \textcolor{comment}{}}
\DoxyCodeLine{16 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{17 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{18 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{19 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{20 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{21 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{22 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{23 \textcolor{comment}{*/}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{\#ifndef Entity\_H}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#define Entity\_H}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{behaviourscript_8h}{Ducktape/engine/behaviourscript.h}}>}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{scenemanager_8h}{Ducktape/engine/scenemanager.h}}>}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{transform_8h}{Ducktape/engine/transform.h}}>}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{memory_8h}{Ducktape/engine/memory.h}}>}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_d_t}{DT}}}
\DoxyCodeLine{37 \{}
\DoxyCodeLine{38     \textcolor{keyword}{class }Transform;}
\DoxyCodeLine{39 }
\DoxyCodeLine{46     \textcolor{keyword}{class }\mbox{\hyperlink{class_d_t_1_1_entity}{Entity}}}
\DoxyCodeLine{47     \{}
\DoxyCodeLine{48     \textcolor{keyword}{public}:}
\DoxyCodeLine{53         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_d_t_1_1_entity_a2bf61795e41a3f2481809bf35ba10c33}{isEnabled}} = \textcolor{keyword}{true};}
\DoxyCodeLine{54 }
\DoxyCodeLine{58         \mbox{\hyperlink{class_d_t_1_1_transform}{Transform}} *\mbox{\hyperlink{class_d_t_1_1_entity_a35f5ec6c8babd17c51fc9b7a63c19740}{transform}};}
\DoxyCodeLine{59 }
\DoxyCodeLine{63         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_d_t_1_1_entity_a9583fe40b481ea001652bf157a2b1085}{isDestroyed}} = \textcolor{keyword}{false};}
\DoxyCodeLine{64 }
\DoxyCodeLine{68         std::string \mbox{\hyperlink{class_d_t_1_1_entity_a1332c32707addb122db805c20245f4b1}{name}} = \textcolor{stringliteral}{"{}New Entity"{}};}
\DoxyCodeLine{69 }
\DoxyCodeLine{73         std::vector<BehaviourScript *> \mbox{\hyperlink{class_d_t_1_1_entity_a2efcb7938a27a43a0438bfb2bc9c9886}{components}};}
\DoxyCodeLine{74 }
\DoxyCodeLine{78         \mbox{\hyperlink{class_d_t_1_1_scene}{Scene}} *\mbox{\hyperlink{class_d_t_1_1_entity_ae27cb20aeeb4352d128a552c4703da4b}{scene}};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         \mbox{\hyperlink{class_d_t_1_1_entity_a8db7a946125709197417262ec903d6bd}{Entity}}();}
\DoxyCodeLine{81 }
\DoxyCodeLine{82         \mbox{\hyperlink{class_d_t_1_1_entity_a96d32b3bea1b7d809ad3defc183dcee5}{Entity}}(std::string entityName);}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         \mbox{\hyperlink{class_d_t_1_1_entity_a8c9cf9bd390cbd0b24d14c6697c974df}{Entity}}(\mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} pos, \textcolor{keywordtype}{float} rot, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} scl);}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \mbox{\hyperlink{class_d_t_1_1_entity_a6c3bcf5598df2f146b7cb94be94cda99}{Entity}}(std::string entityName, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} pos, \textcolor{keywordtype}{float} rot, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} scl);}
\DoxyCodeLine{87 }
\DoxyCodeLine{94         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{95         T *\mbox{\hyperlink{class_d_t_1_1_entity_ad206780612ac5d5633210b3afdb9ca4d}{addComponent}}()}
\DoxyCodeLine{96         \{}
\DoxyCodeLine{97             \textcolor{keyword}{auto} component = (T*)malloc(\textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{98             component-\/>entity = \textcolor{keyword}{this};}
\DoxyCodeLine{99             *component = T();}
\DoxyCodeLine{100             this-\/>components.push\_back(component);}
\DoxyCodeLine{101             \mbox{\hyperlink{namespace_d_t_1_1_memory_a391ee44ef0a0aeabcf034a9168a7d418}{Memory::heapMemory}}.push\_back(component);}
\DoxyCodeLine{102             \textcolor{keywordflow}{return} component;}
\DoxyCodeLine{103         \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{112         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{113         T *\mbox{\hyperlink{class_d_t_1_1_entity_ad4c9d5be4edf4ef096afc5a5b2021a0b}{getComponent}}()}
\DoxyCodeLine{114         \{}
\DoxyCodeLine{115             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} script : this-\/>components)}
\DoxyCodeLine{116             \{}
\DoxyCodeLine{117                 \textcolor{keywordflow}{if} (T *ptr = \textcolor{keyword}{dynamic\_cast<}T *\textcolor{keyword}{>}(script))}
\DoxyCodeLine{118                 \{}
\DoxyCodeLine{119                     \textcolor{keywordflow}{return} ptr;}
\DoxyCodeLine{120                 \}}
\DoxyCodeLine{121             \}}
\DoxyCodeLine{122             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{123         \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{131         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{132         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_d_t_1_1_entity_a4eed72f85f4ece4e0c5f9db3195f3c3b}{removeComponent}}()}
\DoxyCodeLine{133         \{}
\DoxyCodeLine{134             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{135             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} script : this-\/>components)}
\DoxyCodeLine{136             \{}
\DoxyCodeLine{137                 \textcolor{keywordflow}{if} (T *ptr = \textcolor{keyword}{dynamic\_cast<}T *\textcolor{keyword}{>}(script))}
\DoxyCodeLine{138                 \{}
\DoxyCodeLine{139                     this-\/>components.erase(this-\/>components.begin() + i);}
\DoxyCodeLine{140                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{141                 \}}
\DoxyCodeLine{142                 i++;}
\DoxyCodeLine{143             \}}
\DoxyCodeLine{144             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{145         \}}
\DoxyCodeLine{146 }
\DoxyCodeLine{153         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_d_t_1_1_entity_a35211213efbb9f9298fd179aa985b643}{removeComponent}}(\mbox{\hyperlink{class_d_t_1_1_behaviour_script}{BehaviourScript}} *check);}
\DoxyCodeLine{154 }
\DoxyCodeLine{161         \textcolor{keyword}{static} \mbox{\hyperlink{class_d_t_1_1_entity}{Entity}} *\mbox{\hyperlink{class_d_t_1_1_entity_a1af63f82d408712e3c4ea7180a09c07d}{find}}(std::string entityName);}
\DoxyCodeLine{162 }
\DoxyCodeLine{167         \textcolor{keyword}{static} \mbox{\hyperlink{class_d_t_1_1_entity}{Entity}} *\mbox{\hyperlink{class_d_t_1_1_entity_a599ee16d939efad56db652551aa13519}{instantiate}}();}
\DoxyCodeLine{168 }
\DoxyCodeLine{175         \textcolor{keyword}{static} \mbox{\hyperlink{class_d_t_1_1_entity}{Entity}} *\mbox{\hyperlink{class_d_t_1_1_entity_a4f4545eebbbb67199caee839eec246aa}{instantiate}}(std::string entityName);}
\DoxyCodeLine{176 }
\DoxyCodeLine{185         \textcolor{keyword}{static} \mbox{\hyperlink{class_d_t_1_1_entity}{Entity}} *\mbox{\hyperlink{class_d_t_1_1_entity_a90e8caf00ee8d7908af81a37e994c233}{instantiate}}(\mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} pos, \textcolor{keywordtype}{float} rot, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} scl);}
\DoxyCodeLine{186 }
\DoxyCodeLine{196         \textcolor{keyword}{static} \mbox{\hyperlink{class_d_t_1_1_entity}{Entity}} *\mbox{\hyperlink{class_d_t_1_1_entity_ab3f130943f5d67f85487cbc532fa0f03}{instantiate}}(std::string entityName, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} pos, \textcolor{keywordtype}{float} rot, \mbox{\hyperlink{class_d_t_1_1_vector2}{Vector2}} scl);}
\DoxyCodeLine{197 }
\DoxyCodeLine{201         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_d_t_1_1_entity_a46c9d7b8fa78bcae078422c5eeb0ab77}{destroy}}();}
\DoxyCodeLine{202 }
\DoxyCodeLine{208         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_d_t_1_1_entity_a55677a22623026a811d974b2d36cd8ac}{setEnabled}}(\textcolor{keywordtype}{bool} \mbox{\hyperlink{class_d_t_1_1_entity_a2bf61795e41a3f2481809bf35ba10c33}{isEnabled}});}
\DoxyCodeLine{209     \};}
\DoxyCodeLine{210 }
\DoxyCodeLine{214     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_d_t_1_1_behaviour_script_ade4458a0c0566b402347017ee7825730}{BehaviourScript::destroy}}()}
\DoxyCodeLine{215     \{}
\DoxyCodeLine{216         this-\/>\mbox{\hyperlink{class_d_t_1_1_behaviour_script_aef50797aafee2a3f08de8e9dc59ad37f}{onDestroy}}();}
\DoxyCodeLine{217         \mbox{\hyperlink{class_d_t_1_1_behaviour_script_a25d2e3d84b313de400b72043ea8537c8}{entity}}-\/>\mbox{\hyperlink{class_d_t_1_1_entity_a4eed72f85f4ece4e0c5f9db3195f3c3b}{removeComponent}}(\textcolor{keyword}{this});}
\DoxyCodeLine{218         this-\/>\mbox{\hyperlink{class_d_t_1_1_behaviour_script_a8ce45b9817f31eb69848fe52fd43e2de}{isDestroyed}} = \textcolor{keyword}{true};}
\DoxyCodeLine{219     \}}
\DoxyCodeLine{220 \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
